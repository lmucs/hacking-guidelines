---
title: “Curly-Brace” Languages
layout: default
---

<h2>{{ page.title }}</h2>

<p class="lead">
  Many languages derive their look and feel from C, the original “curly-brace” language.
  Thus, because of this common provenance, a number of guidelines are applicable to all
  of them. These guidelines are listed here. Language-specific guidelines can be found
  on their respective individual language pages.
</p>

<div class="row">
  <div class="col-xs-4">
    <div class="panel panel-default">
      <div class="panel-body">
        <a href="{{ site.baseurl }}/c">
          <img src="{{ site.baseurl }}/images/c.png" class="img-responsive center-block" alt="C logo">
          <h4 class="text-center">(duh)</h4>
        </a>
      </div>
    </div>
  </div>

  <div class="col-xs-4">
    <div class="panel panel-default">
      <div class="panel-body">
        <a href="{{ site.baseurl }}/java">
          <img src="{{ site.baseurl }}/images/java.png" class="img-responsive center-block" alt="Java logo">
          <h4 class="text-center">Java</h4>
        </a>
      </div>
    </div>
  </div>

  <div class="col-xs-4">
    <div class="panel panel-default">
      <div class="panel-body">
        <a href="{{ site.baseurl }}/javascript">
          <img src="{{ site.baseurl }}/images/js.jpg" class="img-responsive center-block" alt="JavaScript logo">
          <h4 class="text-center">JavaScript</h4>
        </a>
      </div>
    </div>
  </div>
</div>

<div class="panel panel-default" id="curly-1tbs">
  <div class="panel-heading">
    <dl class="dl-horizontal">
      <dt><h4>curly-1tbs</h4></dt>
      <dd><h4>Keep opening curly braces on the same line as the code that precedes them.</h4></dd>
    </dl>
  </div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Oh Yes We Did</dt>
      <dd>
        Yes, we are explicitly choosing “1TBS” over “Allman-style” brace formatting.
      </dd>

      <dt>Reason</dt>
      <dd>
        Curly braces are a parsing necessary evil. In the absence of significant whitespace (as in Python),
        a language needs unambiguous delimiters for code boundaries. Well-presented code uses other signs,
        particularly whitespace, to indicate these boundaries, but curly-brace parsers are typically “blind”
        to those signs. Thus, the braces have to be there but they don’t have to be given any more
        presentational importance than they deserve.
      </dd>

      <dt>Example</dt>
      <dd>
        <pre>
  if (codeIsFormattedWell) {
      thereIsLessConfusion();
      errorsAreLessLikely();
  }</pre>
      </dd>

      <dt>Anti-Example</dt>
      <dd>
        <pre>
  while (openingCurlyBraces)
  {
      appearOnTheirOwn();
      thePrecedingCodeIsLessConnected();
      toWhatComesAfter();
  }</pre>
      </dd>
    </dl>
  </div>
</div>

<div class="panel panel-default" id="curly-brk">
  <div class="panel-heading">
    <dl class="dl-horizontal">
      <dt><h4>curly-brk</h4></dt>
      <dd><h4>Always linebreak and indent clauses, even one-liners, and always delimit them with braces.</h4></dd>
    </dl>
  </div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Reason</dt>
      <dd>
        Presenting short clauses in a single line, and varying when to delimit them with braces, merely complicates
        the choices you make in how code is formatted and can lead to unintended errors.
      </dd>

      <dt>Example</dt>
      <dd>
        <pre>
  while (aClauseHasOneLine) {
      alwaysUseBracesAndLinebreaksAndIndent();
  }</pre>
      </dd>

      <dt>Anti-Examples</dt>
      <dd>
        <pre>
  if (iAmAskingForTrouble)
      thenIWillGetIntoTrouble();</pre>

        <pre>
  for (String excuse: excuses) youMightAddAnotherStatementOneDay();</pre>
      </dd>

      <dt>Real-World Case</dt>
      <dd>
        Failure to follow this practice contributed to the OS X Goto Fail vulnerability of 2014:
        <ul class="list-unstyled">
          <li>&nbsp;&nbsp;&nbsp;<a href="https://www.imperialviolet.org/2014/02/22/applebug.html">https://www.imperialviolet.org/2014/02/22/applebug.html</a></li>
          <li>&nbsp;&nbsp;&nbsp;<a href="http://www.dwheeler.com/essays/apple-goto-fail.html">http://www.dwheeler.com/essays/apple-goto-fail.html</a></li>
        </ul>
      </dd>
    </dl>
  </div>
</div>

<div class="panel panel-default" id="curly-mult">
  <div class="panel-heading">
    <dl class="dl-horizontal">
      <dt><h4>curly-mult</h4></dt>
      <dd><h4>In multi-clause statements, keep the opening brace of the next clause on the same line as the
          closing brace of the previous one.</h4></dd>
    </dl>
  </div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Reason</dt>
      <dd>
        Doing this visually preserves the structure of the code: a multi-clause statement is still a single
        statement, and so it should look like one.
      </dd>

      <dt>Example</dt>
      <dd>
        <pre>
  if (thisHasAnElseClause) {
      thenUseTheBraces();
      asGlue();
  } else {
      thereMayBeConfusion();
      thatWouldHaveBeenEasyToAvoid();
  }</pre>
      </dd>

      <dt>Anti-Example</dt>
      <dd>
        <pre>
  try {
      notToSeparate();
      multipartStatements();
  }

  catch (MisinterprentationException me) {
      becauseThis();
      doesNotRepresentWhatTheyMean();
  }</pre>
      </dd>
    </dl>
  </div>
</div>

<div class="panel panel-default" id="curly-space">
  <div class="panel-heading">
    <dl class="dl-horizontal">
      <dt><h4>curly-space</h4></dt>
      <dd><h4>In general, add a space before and after braces. Notable exceptions include when they are
          adjacent to same-sided parentheses, at the beginning or end of a line, or preceding
          punctuation.</h4></dd>
    </dl>
  </div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Reason</dt>
      <dd>
        This continues the theme of reinforcing visually the structure of the code. Appropriate spacing
        keeps semantic entities distinct and prevents code from looking cluttered.
      </dd>

      <dt>Example</dt>
      <dd>
        <pre>
  while (aBraceFollowsAParenthetical) {
      placeASpaceInBetweenThem();
      toAvoidConfusion();
  }

  aOneLineLiteral = { "less", "cluttered", "with", "spaces" };</pre>
      </dd>

      <dt>Anti-Example</dt>
      <dd>
        <pre>
  try{
      toIncludeSpaces();
      beforeAndAfterBraces();
      inAppropriatePlaces();
  }catch (ClutterException ce){
      becauseWithoutThem();
      distinctElements();
      standOutLess();
  }</pre>
      </dd>
    </dl>
  </div>
</div>

<div class="panel panel-default" id="curly-rsrv">
  <div class="panel-heading">
    <dl class="dl-horizontal">
      <dt><h4>curly-rsrv</h4></dt>
      <dd><h4>Include a space before and after reserved words like <code>if</code>, <code>while</code>,
          <code>return</code>, etc.</h4></dd>
    </dl>
  </div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Reason</dt>
      <dd>
        Reserved words are part of the language and are neither functions, nor variables, nor other expressions.
        Adding a space keeps them from being misread as any of these.
      </dd>

      <dt>Observation</dt>
      <dd>
        If the character after a reserved word is not punctuation, you <emph>must</emph> insert a space anyway.
        This guideline keeps the rules consistent across the board.
      </dd>

      <dt>Example</dt>
      <dd>
        <pre>
  for (int i = aReservedWord; i !== identifier; i += 1) {
      surroundThemWithSpaces();
      if (notSurrounded) {
          return potentialMisreading;
      }
  }
      </dd>

      <dt>Anti-Example</dt>
      <dd>
        <pre>
  while(isNotAFunction) {
      butItMightLookLikeOne();
      ifThereIsNoSpaceAfterIt();
  }

  try{
      theLineAboveIsAlsoCoveredByCurlySpace();
  } catch(NotAFunctionException nafe) {
      returnthisLineWillNotCompileWithoutASpace;
  }</pre>
      </dd>
    </dl>
  </div>
</div>
